---
# defaults file for ansible-coreos-kubelet
coreos_kubelet_systemd: /etc/systemd/system
etc_kubernetes: /etc/kubernetes
coreos_kubelet_install_dir: /opt/bin
var_lib_kubelet: /var/lib/kubelet

gcr_repo: "gcr.io/google_containers"
kubelet_image_tag: "v1.13.4"
kubelet_image_url: "docker://{{gcr_repo}}/hyperkube"

kubernetes_service_addresses: "172.21.0.0/16"
dns_server: "{{ kubernetes_service_addresses|ipaddr('net')|ipaddr(100)|ipaddr('address') }}"

kubelet_extra_rkt_run_args: ""

default_kubelet_options: {}

custom_kubelet_options: {}
## KUBELET options
# Default number of pods per Node
max_pods: 50
#evictionHard:
evictionHard_imagefs_available: 5%
evictionHard_memory_available: 500Mi
evictionHard_nodefs_available: 5%
evictionHard_nodefs_inodesFree: '5'
#evictionMinimumReclaim:
evictionMinimumReclaim_imagefs_available: 10%
evictionMinimumReclaim_memory_available: 1Gi
evictionMinimumReclaim_nodefs_available: 10%
evictionMinimumReclaim_nodefs_inodesFree: '10'

evictionMaxPodGracePeriod: 0
evictionPressureTransitionPeriod: 5m0s
##
imageGCHighThresholdPercent: 85
imageGCLowThresholdPercent: 80
# .
imageMinimumGCAge: 2h0m0s


kubelet_options: "{{ default_kubelet_options | combine(custom_kubelet_options) }}"
kube_cloud_provider: "vsphere"
kube_enable_cloud_provider: False
